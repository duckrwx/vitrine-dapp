{
  "_format": "hh-sol-artifact-1",
  "contractName": "Marketplace",
  "sourceName": "contracts/Marketplace.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_vitrineCoreAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "productId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "streamer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "ProductPurchased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "productId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "metadataFid",
          "type": "string"
        }
      ],
      "name": "ProductRegistered",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "REGISTER_PRODUCT_REP_THRESHOLD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextProductId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "products",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "commission",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "metadataFid",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_price",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_commission",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_metadataFid",
          "type": "string"
        }
      ],
      "name": "registerProduct",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "vitrineCore",
      "outputs": [
        {
          "internalType": "contract VitrineCore",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610e74380380610e74833981810160405281019061003291906100db565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610108565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006100a88261007d565b9050919050565b6100b88161009d565b81146100c357600080fd5b50565b6000815190506100d5816100af565b92915050565b6000602082840312156100f1576100f0610078565b5b60006100ff848285016100c6565b91505092915050565b610d5d806101176000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c806324afbea71461005c5780634de91a631461007857806368a9faf6146100965780637acc0b20146100b4578063e2db4e08146100e8575b600080fd5b61007660048036038101906100719190610605565b610106565b005b610080610368565b60405161008d9190610683565b60405180910390f35b61009e61036e565b6040516100ab9190610683565b60405180910390f35b6100ce60048036038101906100c9919061069e565b610373565b6040516100df95949392919061078b565b60405180910390f35b6100f0610451565b6040516100fd9190610844565b60405180910390f35b600a60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e503bb05336040518263ffffffff1660e01b8152600401610161919061085f565b602060405180830381865afa15801561017e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101a2919061088f565b10156101e3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101da9061092e565b60405180910390fd5b60648210610226576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161021d9061099a565b60405180910390fd5b600060015490506040518060a001604052808281526020013373ffffffffffffffffffffffffffffffffffffffff16815260200185815260200184815260200183815250600260008381526020019081526020016000206000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201556060820151816003015560808201518160040190816102f79190610bbc565b509050506001600081548092919061030e90610cbd565b91905055503373ffffffffffffffffffffffffffffffffffffffff16817f0760719a2bff712fd963b31a18f1f3c21651edaf3ce212d45e1d0e5145fdc7598460405161035a9190610d05565b60405180910390a350505050565b60015481565b600a81565b60026020528060005260406000206000915090508060000154908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020154908060030154908060040180546103ce906109e9565b80601f01602080910402602001604051908101604052809291908181526020018280546103fa906109e9565b80156104475780601f1061041c57610100808354040283529160200191610447565b820191906000526020600020905b81548152906001019060200180831161042a57829003601f168201915b5050505050905085565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b61049c81610489565b81146104a757600080fd5b50565b6000813590506104b981610493565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610512826104c9565b810181811067ffffffffffffffff82111715610531576105306104da565b5b80604052505050565b6000610544610475565b90506105508282610509565b919050565b600067ffffffffffffffff8211156105705761056f6104da565b5b610579826104c9565b9050602081019050919050565b82818337600083830152505050565b60006105a86105a384610555565b61053a565b9050828152602081018484840111156105c4576105c36104c4565b5b6105cf848285610586565b509392505050565b600082601f8301126105ec576105eb6104bf565b5b81356105fc848260208601610595565b91505092915050565b60008060006060848603121561061e5761061d61047f565b5b600061062c868287016104aa565b935050602061063d868287016104aa565b925050604084013567ffffffffffffffff81111561065e5761065d610484565b5b61066a868287016105d7565b9150509250925092565b61067d81610489565b82525050565b60006020820190506106986000830184610674565b92915050565b6000602082840312156106b4576106b361047f565b5b60006106c2848285016104aa565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106f6826106cb565b9050919050565b610706816106eb565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561074657808201518184015260208101905061072b565b60008484015250505050565b600061075d8261070c565b6107678185610717565b9350610777818560208601610728565b610780816104c9565b840191505092915050565b600060a0820190506107a06000830188610674565b6107ad60208301876106fd565b6107ba6040830186610674565b6107c76060830185610674565b81810360808301526107d98184610752565b90509695505050505050565b6000819050919050565b600061080a610805610800846106cb565b6107e5565b6106cb565b9050919050565b600061081c826107ef565b9050919050565b600061082e82610811565b9050919050565b61083e81610823565b82525050565b60006020820190506108596000830184610835565b92915050565b600060208201905061087460008301846106fd565b92915050565b60008151905061088981610493565b92915050565b6000602082840312156108a5576108a461047f565b5b60006108b38482850161087a565b91505092915050565b7f4d61726b6574706c6163653a2052657075746163616f20696e7375666963696560008201527f6e74650000000000000000000000000000000000000000000000000000000000602082015250565b6000610918602383610717565b9150610923826108bc565b604082019050919050565b600060208201905081810360008301526109478161090b565b9050919050565b7f4d61726b6574706c6163653a20436f6d697373616f20696e76616c6964610000600082015250565b6000610984601e83610717565b915061098f8261094e565b602082019050919050565b600060208201905081810360008301526109b381610977565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610a0157607f821691505b602082108103610a1457610a136109ba565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610a7c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610a3f565b610a868683610a3f565b95508019841693508086168417925050509392505050565b6000610ab9610ab4610aaf84610489565b6107e5565b610489565b9050919050565b6000819050919050565b610ad383610a9e565b610ae7610adf82610ac0565b848454610a4c565b825550505050565b600090565b610afc610aef565b610b07818484610aca565b505050565b5b81811015610b2b57610b20600082610af4565b600181019050610b0d565b5050565b601f821115610b7057610b4181610a1a565b610b4a84610a2f565b81016020851015610b59578190505b610b6d610b6585610a2f565b830182610b0c565b50505b505050565b600082821c905092915050565b6000610b9360001984600802610b75565b1980831691505092915050565b6000610bac8383610b82565b9150826002028217905092915050565b610bc58261070c565b67ffffffffffffffff811115610bde57610bdd6104da565b5b610be882546109e9565b610bf3828285610b2f565b600060209050601f831160018114610c265760008415610c14578287015190505b610c1e8582610ba0565b865550610c86565b601f198416610c3486610a1a565b60005b82811015610c5c57848901518255600182019150602085019450602081019050610c37565b86831015610c795784890151610c75601f891682610b82565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610cc882610489565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610cfa57610cf9610c8e565b5b600182019050919050565b60006020820190508181036000830152610d1f8184610752565b90509291505056fea2646970667358221220d10f743f4c222b6f42745e90b2a519d83f00902ee22c4f71b3277420f69c883e64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c806324afbea71461005c5780634de91a631461007857806368a9faf6146100965780637acc0b20146100b4578063e2db4e08146100e8575b600080fd5b61007660048036038101906100719190610605565b610106565b005b610080610368565b60405161008d9190610683565b60405180910390f35b61009e61036e565b6040516100ab9190610683565b60405180910390f35b6100ce60048036038101906100c9919061069e565b610373565b6040516100df95949392919061078b565b60405180910390f35b6100f0610451565b6040516100fd9190610844565b60405180910390f35b600a60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e503bb05336040518263ffffffff1660e01b8152600401610161919061085f565b602060405180830381865afa15801561017e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101a2919061088f565b10156101e3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101da9061092e565b60405180910390fd5b60648210610226576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161021d9061099a565b60405180910390fd5b600060015490506040518060a001604052808281526020013373ffffffffffffffffffffffffffffffffffffffff16815260200185815260200184815260200183815250600260008381526020019081526020016000206000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201556060820151816003015560808201518160040190816102f79190610bbc565b509050506001600081548092919061030e90610cbd565b91905055503373ffffffffffffffffffffffffffffffffffffffff16817f0760719a2bff712fd963b31a18f1f3c21651edaf3ce212d45e1d0e5145fdc7598460405161035a9190610d05565b60405180910390a350505050565b60015481565b600a81565b60026020528060005260406000206000915090508060000154908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020154908060030154908060040180546103ce906109e9565b80601f01602080910402602001604051908101604052809291908181526020018280546103fa906109e9565b80156104475780601f1061041c57610100808354040283529160200191610447565b820191906000526020600020905b81548152906001019060200180831161042a57829003601f168201915b5050505050905085565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b61049c81610489565b81146104a757600080fd5b50565b6000813590506104b981610493565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610512826104c9565b810181811067ffffffffffffffff82111715610531576105306104da565b5b80604052505050565b6000610544610475565b90506105508282610509565b919050565b600067ffffffffffffffff8211156105705761056f6104da565b5b610579826104c9565b9050602081019050919050565b82818337600083830152505050565b60006105a86105a384610555565b61053a565b9050828152602081018484840111156105c4576105c36104c4565b5b6105cf848285610586565b509392505050565b600082601f8301126105ec576105eb6104bf565b5b81356105fc848260208601610595565b91505092915050565b60008060006060848603121561061e5761061d61047f565b5b600061062c868287016104aa565b935050602061063d868287016104aa565b925050604084013567ffffffffffffffff81111561065e5761065d610484565b5b61066a868287016105d7565b9150509250925092565b61067d81610489565b82525050565b60006020820190506106986000830184610674565b92915050565b6000602082840312156106b4576106b361047f565b5b60006106c2848285016104aa565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106f6826106cb565b9050919050565b610706816106eb565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561074657808201518184015260208101905061072b565b60008484015250505050565b600061075d8261070c565b6107678185610717565b9350610777818560208601610728565b610780816104c9565b840191505092915050565b600060a0820190506107a06000830188610674565b6107ad60208301876106fd565b6107ba6040830186610674565b6107c76060830185610674565b81810360808301526107d98184610752565b90509695505050505050565b6000819050919050565b600061080a610805610800846106cb565b6107e5565b6106cb565b9050919050565b600061081c826107ef565b9050919050565b600061082e82610811565b9050919050565b61083e81610823565b82525050565b60006020820190506108596000830184610835565b92915050565b600060208201905061087460008301846106fd565b92915050565b60008151905061088981610493565b92915050565b6000602082840312156108a5576108a461047f565b5b60006108b38482850161087a565b91505092915050565b7f4d61726b6574706c6163653a2052657075746163616f20696e7375666963696560008201527f6e74650000000000000000000000000000000000000000000000000000000000602082015250565b6000610918602383610717565b9150610923826108bc565b604082019050919050565b600060208201905081810360008301526109478161090b565b9050919050565b7f4d61726b6574706c6163653a20436f6d697373616f20696e76616c6964610000600082015250565b6000610984601e83610717565b915061098f8261094e565b602082019050919050565b600060208201905081810360008301526109b381610977565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610a0157607f821691505b602082108103610a1457610a136109ba565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610a7c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610a3f565b610a868683610a3f565b95508019841693508086168417925050509392505050565b6000610ab9610ab4610aaf84610489565b6107e5565b610489565b9050919050565b6000819050919050565b610ad383610a9e565b610ae7610adf82610ac0565b848454610a4c565b825550505050565b600090565b610afc610aef565b610b07818484610aca565b505050565b5b81811015610b2b57610b20600082610af4565b600181019050610b0d565b5050565b601f821115610b7057610b4181610a1a565b610b4a84610a2f565b81016020851015610b59578190505b610b6d610b6585610a2f565b830182610b0c565b50505b505050565b600082821c905092915050565b6000610b9360001984600802610b75565b1980831691505092915050565b6000610bac8383610b82565b9150826002028217905092915050565b610bc58261070c565b67ffffffffffffffff811115610bde57610bdd6104da565b5b610be882546109e9565b610bf3828285610b2f565b600060209050601f831160018114610c265760008415610c14578287015190505b610c1e8582610ba0565b865550610c86565b601f198416610c3486610a1a565b60005b82811015610c5c57848901518255600182019150602085019450602081019050610c37565b86831015610c795784890151610c75601f891682610b82565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610cc882610489565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610cfa57610cf9610c8e565b5b600182019050919050565b60006020820190508181036000830152610d1f8184610752565b90509291505056fea2646970667358221220d10f743f4c222b6f42745e90b2a519d83f00902ee22c4f71b3277420f69c883e64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
